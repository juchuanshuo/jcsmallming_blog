<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<meta name="description" content="">
	<meta name="author" content="">
	<title>SmallMing blog</title>
	<style type="text/css">
		body {
			display: flex;
			min-height: 100vh;
			flex-direction: column;
		}

		main {
			flex: 1 0 auto;
		}
	</style>
	<title id="contentTitle"></title>
	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="/resource/vue-material/font.css">
	<link rel="stylesheet" href="/resource/vue-material/icon+material.css">
	<link rel="stylesheet" href="/resource/materialize/css/materialize.min.css">
</head>

<body>
	<!-- 这里是导航区域 -->
	<div id="nav-bar" class="z-depth-5" style="margin-top:15px">
		<nav style="background-color:rgb(0, 0, 0)">
			<div class="nav-wrapper">
				<a href="/" class="brand-logo" style="margin-left:15%">Jcsmallming</a>
				<form class="right">
					<div class="input-field">
						<input id="search" type="search" required>
						<label class="label-icon" for="search"><i class="material-icons">search</i></label>
						<i class="material-icons">close</i>
					</div>
				</form>
				<ul id="nav-mobile" class="right hide-on-med-and-down">
					<li class="active"><a href="/">首页</a></li>
					<li><a href="content.html">文章</a></li>
					<li><a href="talk.html">施工中</a></li>
					<li><a href="aboutMe.html">施工中</a></li>
					<li><a href="messageBoard.html">施工中</a></li>
					<li><a href="transfer.html">施工中</a></li>
				</ul>
			</div>
		</nav>
	</div>
	<!-- 轮播 -->
	<!-- <div class="container">
		<div class="row" style="margin-top:30px;margin-left: 15px">
			<div class="col s7">
				<div class="carousel carousel-slider center" data-indicators="true">
					<div class="carousel-item red white-text" href="#one!">
						<h2>第一面板</h2>
						<p class="white-text">这是第一面板</p>
					</div>
					<div class="carousel-item amber white-text" href="#two!">
						<h2>第二面板</h2>
						<p class="white-text">这是第二面板</p>
					</div>
					<div class="carousel-item green white-text" href="#three!">
						<h2>第三面板</h2>
						<p class="white-text">这是第三面板</p>
					</div>
					<div class="carousel-item blue white-text" href="#four!">
						<h2>第四面板</h2>
						<p class="white-text">这是第四面板</p>
					</div>
				</div>
			</div>
		</div>
	</div> -->
	<div class="container" style="margin-top:50px">
		<div class="row">
			<div id="contentContainer" class="col s9 m9">
			</div>
		</div>
	</div>
	<div class="row" style="width:350px;position:absolute;top:100px;right: 20px;">
		<div>
			<div class="card">
				<nav class="nav-extended" style="background-color:black">
					<div class=" nav-content">
						<ul class="tabs tabs-transparent">
							<li class="tab"><a class="active" href="#test1">推荐文章</a></li>
							<li class="tab"><a href="#test2">关注博主</a></li>
							<li class="tab"><a href="#test3">友情链接</a></li>
						</ul>
					</div>
				</nav>
				<div id="test1" class="z-depth-5" style="height:320px">
					<div class="card-action">
						<a href="#">这是一篇文章</a>
					</div>
					<div class="card-action">
						<a href="#">这是一篇文章</a>
					</div>
					<div class="card-action">
						<a href="#">这是一篇文章</a>
					</div>
					<div class="card-action">
						<a href="#">这是一篇文章</a>
					</div>
					<div class="card-action">
						<a href="#">这是一篇文章</a>
					</div>
				</div>
				<div id="test2" class="z-depth-5 center" style="height:320px">
					<img src="/resource/img/ssys.jpg" width="90%"/>
				</div>
				<div id="test3" class="z-depth-5" style="height:320px">
					<div class="card-action">
						<a href="http://oew.ink/">Jiatln'blog</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- 以下是footer区域 -->
	<footer class="page-footer" style="background-color:white">
		<div class="footer-copyright" style="color: black">
			<div class="container center">
				© 2018 Copyright Jcsmallming
			</div>
		</div>
	</footer>
	<a id="top" class="btn btn-floating waves-effect waves-light" style="position: fixed;bottom:30px;right: 30px;display: none;"><i
		 class="material-icons">publish</i></a>


	<script type="text/javascript" src="resource/jquery/jquery-3.2.1.min.js"></script>
	<script src="/resource/materialize/js/materialize.min.js"></script>
	<script type="text/javascript">
		$(function () {
			$('.carousel.carousel-slider').carousel({ full_width: true });
			var href = location.search;
			var id = href.split("=");
			$.ajax({
				type: "POST",
				dataType: "json",
				url: "list/main",
				contentType: "application/x-www-form-urlencoded",
				success: function (result) {
					$("#content").empty();
					for (var i = 0; i < result.list.length; i++) {
						var row = $('<div></div>').addClass("row hoverable");
						var divImg = $('<div></div>').addClass("col s3 m3");
						divImg.append('<img src="./resource/img/1.jpg" width="100%" height="135px" />');
						var divContent = $('<div></div>').addClass("col s6 m6");
						divContent.append('<span>2018/11/29 20:02</span>');
						divContent.append('<h5><a style="color:black" href = "list/content?id=' + result.list[i].contentId + '"><strong>' + result.list[i].contentName + '</strong></a><h5>');
						let summary = result.list[i].summary;
						if (summary.length > 45) {
							summary = summary.substring(0, 45) + "...";
						}
						divContent.append('<span>' + summary + '</span>');
						divContent.append('<br><a style="color:red;margin-bottom:0px;position:absolute" href = "list/content?id=' + result.list[i].contentId + '">>>>阅读全文</a>');
						divContent.appendTo("#content");
						row.append(divImg);
						row.append(divContent);
						row.appendTo($("#contentContainer"));
					}
					$("#content").trigger('create');
				},
				error: function (data) {
					alert("error:" + data.responseText);
				}
			});
		});
	</script>
</body>

</html>